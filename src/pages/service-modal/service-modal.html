<!--
  Generated template for the ServiceModal page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
<ion-navbar color="primary">
<ion-toolbar class="hei-head">
    <ion-title color="primary" class="tittles-md" text-capitalize>
      {{title}}
    </ion-title>
    <ion-buttons start item-right class="close-iconss">
      <button ion-button (click)="dismiss()">
        <span ion-text color="primary" showWhen="ios">Cancel</span>
        <ion-icon ios="ios-close-circle-outline" md="md-close-circle" ></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
  </ion-navbar>
</ion-header>
<ion-content class="content-intop" >

        <div *ngIf(showServiceOffered) class="offered-servicelist">
          <ion-item *ngFor = "let service of vendorList.serviceOffered">
            <ion-card *ngFor = "let category_list of service.category_lists; let i=index">
              <ion-card-header class="sub" ion-item (click)="show_sub_category(i)">
               
                <p>{{category_list.category}}</p>  
				 <small>
		<i *ngIf(sub_category) class="fa fa-angle-up" aria-hidden="true"></i>
		<i *ngIf(!sub_category) class="fa fa-angle-down" aria-hidden="true"></i>
			
				
				</small>
              </ion-card-header>
              <!-- <hr *ngIf(sub_category)> -->
                  <ion-card *ngIf="i==sub_category" class="offered-servicelist-two">
                    <ion-item *ngFor="let subcategory_list of category_list.service_sub_category_lists; let i=index " >
                    <ion-list (click)="showService(i)">
                   
                       <p> {{subcategory_list.subcategory}}</p>
                        <small>
							<i *ngIf= "i === show_service" class="fa fa-angle-up" aria-hidden="true"></i>
		                    <i *ngIf= "i !== show_service" class="fa fa-angle-down" aria-hidden="true"></i>
						</small>
                    </ion-list>
                        <div *ngIf= "i === show_service" class="offered-servicelist-tree">
                          <ion-card *ngFor="let services of subcategory_list.services" >
							<ion-row>
								<ion-col width-80 ion-item (click)= "goToService(services)" text-wrap class="service-lefttext">
								 <p> {{services.service}}</p> 
								</ion-col>
								<ion-col width-20 class="service-rightprice">
								<small><i class="fa fa-inr" aria-hidden="true">{{services.service_cost}}</i></small>
								</ion-col>
							</ion-row>
                          </ion-card>
                        </div>
                    </ion-item>

                  </ion-card>
              
              
            </ion-card>
          </ion-item>

        <ion-card *ngIf="!vendorList.serviceOffered">
          <ion-card-content><p style=" font-size:15px; color:red;">
            No Records Found..!</p>
          </ion-card-content>
        </ion-card> 
        </div>
			

        <div *ngIf(showContactDetails) class="add-detalis">
	        <ion-card class="contact-list">
			<ion-item text-wrap>
			<ion-row>
			<ion-col>
			<p><i class="fa fa-map-marker" aria-hidden="true"></i>  {{vendorList?.vendorDetails?.address}}</p>
			<p><i class="fa fa-envelope" aria-hidden="true"></i>  {{vendorList?.vendorDetails?.email}}</p>
			<p><i class="fa fa-user" aria-hidden="true"></i>  {{vendorList?.vendorDetails?.contact_name}}</p>
			<p> <i class="fa fa-phone" aria-hidden="true"></i>  {{vendorList?.vendorDetails?.contact_number}}</p>
			
			</ion-col>
			</ion-row>
			
			</ion-item>
			
			
			
		
	      	</ion-card>

		   	<ion-card *ngIf(!vendorList?.vendorDetails?.address)>
				<ion-item style="color:red; font-size:15px;color:red;">"No Address Deatails To Display"</ion-item>		  
	      	</ion-card>
      	</div>
         <div *ngIf(showPackagesDetails) class="add-detalis">
          <!-- <div *ngFor = "let packages of vendorList.packages"> -->
         <!-- 
        <ion-item text-wrap>
        <p text-capitalize>Packeage Name:{{packages.package_name}}</p>
        </ion-item>
        <ion-item text-wrap>
        <p>Packeage Cost:{{packages.package_cost}}</p>
        </ion-item>
        <ion-item text-wrap>
        <p>{{packages.package_description}}</p>
        </ion-item>-->
        <ion-card class="packagelist" *ngFor="let pack of vendorList.packages; let i=index" text-wrap>
            <!-- <ion-slides slidesPerView= ""> -->
          
                 <!-- <ion-slide class="slide-border"> -->
                  <ion-item style="padding-left:0px;" text-wrap>
                    <ion-col> 
                      <!--<div class="plan featured orangeColor">-->
                      <h3>{{pack.package_name}}</h3> 
				  
                      <ion-list class="price-bt" *ngIf="pack.discount_rate_package == NULL"><span><i class="fa fa-inr"></i> {{pack.package_amount}}/-</span></ion-list>
                      <ion-list class="price-bt" *ngIf="pack.discount_rate_package != NULL"><span><i class="fa fa-inr"></i>{{pack.package_amount - pack.package_amount*pack.discount_rate_package/100}}/-</span></ion-list>
                      <ion-list class="price-list" *ngIf="pack.discount_rate_package != NULL">     
                      <small><i class="fa fa-rupee"></i>{{pack.package_amount}} </small>
                      <span>  {{pack.discount_rate_package}} % off <b> For {{pack.package_validity}}</b> </span>
					           <p>{{pack.package_description}}</p>
                      <!-- <span >{{service_type}}</span> -->
                      </ion-list>
					     <ion-list *ngIf="vendorList.dependentLists.length != 1">
                        <div *ngIf="pack.package_available == 0 || user_type=='sponsor' || pack.package_available[0].status == 2 || pack.package_available[0].status == 4 || pack.package_available[0].status == 3">
                        <strong class="purch-already" (click)="openRequestPackage(pack.id,pack.service_quantity.service_quantity)">Get Package</strong>
                        </div>
                      </ion-list>   
                     <ion-list *ngIf="vendorList.dependentLists.length == 1" text-center>
                          <div *ngIf="pack.package_available.length == 0 || user_type=='sponsor' || pack.package_available[0].status == 2 || pack.package_available[0].status == 4 || pack.package_available[0].status == 3">
                        <strong class="purch-already" (click)="openRequestPackage(pack.id,pack.service_quantity.service_quantity)">Get Package</strong>
                        </div>                     
                        </ion-list>
                        <div *ngIf="user_type =='elder'">
                      <strong class="purch-already" *ngIf="pack.package_available.length > 0 && (pack.package_available[0].status == 1 || pack.package_available[0].status == 6)">You've already purchased this Package
                     </strong>
                     </div>
                     <div *ngIf="user_type =='elder'">
                     <strong class="purch-already" *ngIf="pack.package_available.length > 0 && pack.package_available[0].status == 0">Your request sent to the service provider
                      </strong>
                      </div>
					 <ion-list *ngFor="let pack_serve of pack.packages_service; let i=index" class="listed-descr">
							{{pack_serve.name}} {{pack_serve.quantity}}  {{pack_serve.common_type.replace('Per', '')}}</ion-list>
                                     
                         <ion-list class="listed-descr" *ngFor="let pack_serve of pack.packages_service; let i=index" >{{pack_serve.name}} {{pack_serve.quantity}}  {{pack_serve.common_type.replace('Per', '')}}</ion-list>
                    
                      <!--</div>-->
                    </ion-col>
                  </ion-item>
                <!-- </ion-slide> -->
             
        <!-- </ion-slides> -->
          </ion-card> 
          <!-- </div> -->       
         </div>

</ion-content>
<!-- <ion-footer> -->
  <!-- <ion-toolbar color="primary"> <!-- [color]="isAndroid ? 'royal' : 'light'" class="toolbar-buttons-page" --> 
     <!-- <ion-buttons> -->
      <!-- <button ion-button color="royal" large icon-left showWhen="ios" (click)="dismiss()"> -->
      <!-- <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>&nbsp;Back -->
       <!-- </button> -->
      <!-- <button ion-button color="light" large icon-left hideWhen="ios" (click)="dismiss()"> -->
      <!-- <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>&nbsp;Back</button> -->
    <!-- </ion-buttons> -->
  <!-- </ion-toolbar> -->
<!-- </ion-footer> -->
<style>
.item-md													{background:none !important;}
ion-content{ background:none !important;}
.scroll-content{overflow-y:hidden !important;}

  .gly-rotate-180 {
  filter: progid: DXImageTransform.Microsoft.BasicImage(rotation=0.5);
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  transform: rotate(180deg);
  display: inline-block;
}
</style>

