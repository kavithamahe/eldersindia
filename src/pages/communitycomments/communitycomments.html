<ion-header>
  <ion-toolbar>
    <ion-title>
      Comments
    </ion-title>
    <ion-buttons start>
      <button ion-button  color="dark" clear (click)="dismiss()">
       <i class="fa fa-times-circle"  name="close"></i>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
			
	<ion-list *ngFor="let comment of post_comments; let j=index" class="comm-posted">
     <ion-row>
					<ion-col width-20>
	   				 <ion-avatar>
	      				<img class="pro-imgs" (click)="profileImage(comment.uid)" 
		    		[src]="imageUrl+comment?.profile_image"  
		    		[hidden]="!comment?.profile_image" >
	    			</ion-avatar>
	    			</ion-col>
	    			<ion-col>
	    			 <p item-text-wrap [innerHTML]="comment.comments | emojis"></p>
	    			</ion-col>
	  			</ion-row>
  			
						<button ion-button clear (click)="reply(j)">
						<i class="fa fa-reply" aria-hidden="true"></i>
						</button>

						<button ion-button item-right clear (click)="showComments(j)">view replies
						</button>
					
						 <div *ngIf="j==showReply">
				    	<ion-list *ngFor="let reply of comment.comment_reply; let i=index">
				      		<ion-row>
				      		<ion-col width-20>
					      		<ion-avatar>
							      	<img class="pro-imgs" (click)="myImage(reply.uid)"
							      	[src]="imageUrl+reply?.profile_image"  
							      	[hidden]="!reply?.profile_image">
							    </ion-avatar>
							   </ion-col>
							    <ion-col>
								    <p class="cmmpost">{{reply.name_from}} --> {{reply.name_to}}</p>
							      	<p item-text-wrap [innerHTML]="reply.comments_replay | emojis"></p>	
						      	</ion-col>
			      				
		      				</ion-row>
		      				<button ion-button clear (click)="replyComments(i)">
								<i class="fa fa-reply" aria-hidden="true"></i>
							</button>
		      						
						<div *ngIf="i==replyBlock">
					      	<ion-row>
								<ion-textarea [(ngModel)]="reply_comment" style=" margin:0px !important;" placeholder="write a reply..">
								</ion-textarea>
							
								<p class="message-container" [innerHTML]="':smile:  ' | emojis"  (click)="emojiPicker2(comment.comments_id,post_profile_id)"></p>
							</ion-row>
							<div class="send-req">
								<button (click)="sendReply(comment.comments_id,post_profile_id)" ion-button class="secon-sdms" color="secondary" round><i class="fa fa-paper-plane-o" aria-hidden="true"></i> 
								</button>
							</div>
			      		</div><hr>
					</ion-list>
				</div>
		   						
		      	<button ion-button class="trash-icon" (click)="showConfirm(comment.comments_id)" 
			      	color="dark" clear><i class="fa fa-times-circle" aria-hidden="true"></i></button>
		
		
			
			    <div *ngIf="j==Reply">
					<ion-row>
						<ion-textarea [(ngModel)]="reply_comment" style=" margin:0px !important;" placeholder="write a reply..">
						</ion-textarea>

					<p class="message-container" [innerHTML]="':smile:' | emojis"  (click)="emojiPicker2(comment.comments_id,post_profile_id)"></p>
				</ion-row>
					<div class="send-req">
						<button (click)="sendReply(comment.comments_id,post_profile_id)" ion-button class="secon-sdms" color="secondary" round><i class="fa fa-paper-plane-o" aria-hidden="true"></i> 
						</button>
					</div>
			    </div>
			   
		
	</ion-list>
			<ion-row>
				<ion-textarea [(ngModel)]="post_comment" style=" margin:0px !important;" placeholder="Enter Comments">
				</ion-textarea>             
				<p class="message-container" [innerHTML]="':smile:' | emojis"  (click)="emojiPicker1(post_id)"></p>		
           	</ion-row>
			<div class="send-req">
				<button ion-button (click)="sendComment(post_id,'post')" class="secon-sdms" color="secondary" round><i class="fa fa-paper-plane-o" aria-hidden="true"></i> 
				</button>
			</div>
</ion-content>
